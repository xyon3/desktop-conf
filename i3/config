set $mod Mod4

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:monospace 8

# System Font
	font pango: SF Pro Display, Font Awesome 5 Free 9

# Start XDG autostart .desktop files using dex. See also
# https://wiki.archlinux.org/index.php/XDG_Autostart
exec --no-startup-id dex --autostart --environment i3

# The combination of xss-lock, nm-applet and pactl is a popular choice, so
# they are included here as an example. Modify as you see fit.

# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork

# Use pactl to adjust volume in PulseAudio.
set $refresh_i3status killall -SIGUSR1 i3status
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5% && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5% && $refresh_i3status
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status


# USE BRILLO TO ADJUST BRIGHTNESS
bindsym XF86MonBrightnessUp exec --no-startup-id brillo -q -A 5
bindsym XF86MonBrightnessDown exec --no-startup-id brillo -q -U 5

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec i3-sensible-terminal

# kill focused window
bindsym $mod+Shift+q kill

# start dmenu (a program launcher)
bindsym $mod+d exec --no-startup-id rofi -show drun -m -1

## START WINDOW_MANAGEMENT =========

# CHANGE FOCUS
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# MOVE FOCUSED WINDOW 
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# OPEN NEXT WINDOW IN "HORIZONTAL_MODE"
bindsym $mod+b split h

# OPEN NEXT WINDOW IN "VERTICAL_MODE"
bindsym $mod+v split v

# FULLSCREEN
bindsym $mod+f fullscreen toggle

# CHANGE WINDOW LAYOUT (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# TOGGLE TILED/FLOATING
bindsym $mod+Shift+space floating toggle

# CHANGE FOCUS TILED/FLOATING WINDOWS 
bindsym $mod+space focus mode_toggle

## END WINDOW MANAGEMENT ==========

## START NERD_CORNER =========

# RELOAD CONFIG FILE
bindsym $mod+Shift+c reload

# RESTART I3 INSTANCE
bindsym $mod+Shift+r restart

# X SESSION LOGOUT
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"

## END NERD_CORNER =========

## START RESIZING ==========
mode "resize" {

        bindsym h resize shrink width 7 px or 7 ppt
        bindsym j resize grow height 7 px or 7 ppt
        bindsym k resize shrink height 7 px or 7 ppt
        bindsym l resize grow width 7 px or 7 ppt

        # back to normal: Enter or Escape or $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

bindsym $mod+r mode "resize"

## END RESIZING ==========

exec xrandr --output "eDP1" --auto --output "HDMI2" --right-of "eDP1"

## START i3BAR =========

# Focused Workspace Color
# Backgound Workspace Color
# Text Workspace Color
# Urgent Workspace Color
set $fwcolor "#3c6392" 
set $bgcolor "#212121"
set $txcolor "#ebebeb"
set $urcolor "#521b16"

bar {
	i3bar_command i3bar
 	position top
	status_command i3blocks -c /home/$USER/.config/i3/i3blocks.conf
	workspace_min_width 20
	height 20
	output primary
	tray_output primary
	
	
    colors {
        background $bgcolor
        statusline $txcolor

#		COLOR_CLASS			<BORDER>	<BG>		<TEXT>
        focused_workspace  	$txcolor	$txcolor	$bgcolor	
        active_workspace   	$txcolor	$txcolor	$bgcolor	
        inactive_workspace	$bgcolor	$bgcolor	$txcolor	
        urgent_workspace  	$urcolor	$urcolor	$txcolor	
    }
}

## START COLORS ========
# <colorclass>	    	<border><background> <text> <indicator> <child_border>

client.focused			 $txcolor $txcolor $bgcolor $txcolor $txcolor
client.focused_inactive  $bgcolor $bgcolor $bgcolor $bgcolor $bgcolor



# for_window [class="*"] title_window_icon yes

for_window [class="^Steam$" title="^Friends$"] floating enable
for_window [class="^Steam$" title="Steam - News"] floating enable
for_window [class="^Steam$" title=".* - Chat"] floating enable
for_window [class="^Steam$" title="^Settings$"] floating enable
for_window [class="^Steam$" title=".* - event started"] floating enable
for_window [class="^Steam$" title=".* CD key"] floating enable
for_window [class="^Steam$" title="^Steam - Self Updater$"] floating enable
for_window [class="^Steam$" title="^Screenshot Uploader$"] floating enable
for_window [class="^Steam$" title="^Steam Guard - Computer Authorization Required$"] floating enable
for_window [title="^Steam Keyboard$"] floating enable

## END COLORS ========


# LAUNCH APPLETS
exec --no-startup-id pa-applet
exec --no-startup-id nm-applet --sm-disable
exec --no-startup-id blueman-applet


# LAUNCH DESKTOP SERVER
exec dunst

## END i3BAR ==========

# i3GAPS CONF
for_window [class=".*"] border pixel 1 border color #ffffff
gaps inner 5
# smart_gaps on

## START FIX_MOUSE ==========
# Fix mouse going crazy (warping) when changing workspaces (for my config)
mouse_warping none

# Use mouse_click to select containers
focus_follows_mouse no


## END FIX_MOUSE ==========

## START APPLICATIONS =========

# SET BACKGROUND (FEH)
exec_always --no-startup-id feh --bg-fill ~/Pictures/Wallpapers/nord_arch.png

# TOUCHPAD (FUSUMA)
exec_always --no-startup-id /home/$USER/.local/share/gem/ruby/3.0.0/bin/fusuma

# SCREENSHOT
bindsym Print exec --no-startup-id maim "/home/$USER/Pictures/$(date)"
bindsym $mod+Print exec --no-startup-id maim --window $(xdotool getactivewindow) "/home/$USER/Pictures/$(date)"
bindsym Shift+Print exec --no-startup-id maim --select "/home/$USER/Pictures/$(date)"

## Clipboard Screenshots
bindsym Ctrl+Print exec --no-startup-id maim | xclip -selection clipboard -t image/png
bindsym Ctrl+$mod+Print exec --no-startup-id maim --window $(xdotool getactivewindow) | xclip -selection clipboard -t image/png
bindsym Ctrl+Shift+Print exec --no-startup-id maim --select | xclip -selection clipboard -t image/png

## END APPLICATIONS =========

#################################################################################################
#################################################################################################

# DUAL MONITOR SETUP:     UNCOMMENT THE TOP CONFIG FOR WORKSPACES
# LAPTOP MONITOR ONLY:    UNCOMMENT THE BOTTOM CONFIG FOR WOKSPACES

# To take effect: 
        # 1 uncomment based on what you want to use
        # 2 logout from i3
        # 3 startx again

#################################################################################################
# ====================================== WORKSPACE CONFIG ===================================== #
#################################################################################################



        # START OF TOP CONFIG

# define variables for workspaces
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"

set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"


## Assign Left and Right Monitor
set $monitor_left "eDP1"
set $monitor_right "HDMI2"


## Assign Workspaces to Respective Monitors
workspace $ws5 output $monitor_right 
workspace $ws6 output $monitor_right
workspace $ws7 output $monitor_right
workspace $ws8 output $monitor_right

workspace $ws1 output $monitor_left 
workspace $ws2 output $monitor_left
workspace $ws3 output $monitor_left
workspace $ws4 output $monitor_left


# switch to workspace
bindsym $mod+1 workspace number $ws5; workspace number $ws1
bindsym $mod+2 workspace number $ws6; workspace number $ws2
bindsym $mod+3 workspace number $ws7; workspace number $ws3
bindsym $mod+4 workspace number $ws8; workspace number $ws4


# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4

bindsym $mod+Shift+0 move container to workspace number $ws5
bindsym $mod+Shift+9 move container to workspace number $ws6
bindsym $mod+Shift+8 move container to workspace number $ws7
bindsym $mod+Shift+7 move container to workspace number $ws8


        # END OF TOP CONFIG

# =======================================================================================

        # START OF BOTTOM CONFIG

# #define variable for workspaces
# set $ws1 "1"
# set $ws2 "2"
# set $ws3 "3"
# set $ws4 "4"
# 
# 
# ## Assign Left and Right Monitor
# set $laptop "eDP-1"
# 
# 
# ## Assign Workspaces to Respective Monitors
# 
# workspace $ws1 output $laptop
# workspace $ws2 output $laptop
# workspace $ws3 output $laptop
# workspace $ws4 output $laptop
# 
# 
# # switch to workspace
# bindsym $mod+1 workspace number $ws1
# bindsym $mod+2 workspace number $ws2
# bindsym $mod+3 workspace number $ws3
# bindsym $mod+4 workspace number $ws4
# 
# 
# # move focused container to workspace
# bindsym $mod+Shift+1 move container to workspace number $ws1
# bindsym $mod+Shift+2 move container to workspace number $ws2
# bindsym $mod+Shift+3 move container to workspace number $ws3
# bindsym $mod+Shift+4 move container to workspace number $ws4



        # END OF BOTTOM CONFIG

# ===============================================================================================
#################################################################################################
